# Configura√ß√£o da impressora adaptada para placa Fly9
# Baseado em printer.cfg com portas adaptadas do Fly9_printer.ref
# Data: $(date)
[include mainsail.cfg]
[include auto_calibration.cfg]
[include macros.cfg]
[include tools.cfg]
[include lidar.cfg]
[include pre_heat.cfg]
[include teste.cfg]
#[include macro_check1.cfg]
[include init_tool_offsets.cfg]
#[include terc_Z.cfg]
[include temperature_management.cfg]
#[include hx711.cfg]  # HX711 desativado (n√£o inclu√≠do)
[virtual_sdcard]
path: /home/adilson/printer_data/gcodes
on_error_gcode: CANCEL_PRINT

# MCU principal - Fly9
[mcu]
#serial: /dev/serial/by-id/usb-Klipper_stm32f407xx_*
serial: /dev/serial/by-id/usb-Klipper_stm32f407xx_3B001D001650334636343620-if00   # Fly9
restart_method: command

# MCU host
[mcu host]
serial: /tmp/klipper_host_mcu
[delayed_gcode init_tool_restore_OLD]
initial_duration: 1
gcode:
  HOME_TROCADOR
  {% set saved = printer.save_variables.variables.tool|default(1)|int %}
  {% set extr = "extruder" if saved==1 else "extruder" ~ (saved-1) %}
  SET_GCODE_VARIABLE MACRO=TOOL_STATE VARIABLE=tool VALUE={saved}
  RESPOND PREFIX="DEBUG" MSG="Boot restore: tool={saved} -> {extr}"
  ACTIVATE_EXTRUDER EXTRUDER={extr}
  MOVE_EXTRUDER EXTRUDER={saved-1}
  SYNC_EXTRUDER_MOTION EXTRUDER=belted_extruder MOTION_QUEUE={extr}
  RESPOND PREFIX="DEBUG" MSG="After ACTIVATE: active={printer.toolhead.extruder}"
  APPLY_TOOL_OFFSET_UNSEC
  INIT_TOOL_OFFSETS
  #M117 Ferramenta restaurada automaticamente
[gcode_macro PREPARE_IMPRESSAO]
description: Aplica limites seguros antes de imprimir
gcode:
  SET_VELOCITY_LIMIT VELOCITY=200 ACCEL=3500
  M117 Limites aplicados

[exclude_object]

[gcode_macro _CLIENT_VARIABLE]
variable_use_custom_pos   : True
variable_custom_park_x    : 300.0
variable_custom_park_y    : 200.0
variable_custom_park_dz   : 5.0
variable_retract          : 5.0
variable_cancel_retract   : 5.0
variable_speed_retract    : 35.0
variable_unretract        : 1.0
variable_speed_unretract  : 35.0
variable_speed_hop        : 15.0
variable_speed_move       : 100.0
variable_park_at_cancel   : True
variable_park_at_cancel_x : 310
variable_park_at_cancel_y : 200
variable_use_fw_retract   : True
variable_idle_timeout     : 0
variable_runout_sensor    : ""
variable_user_pause_macro : ""
variable_user_resume_macro: ""
variable_user_cancel_macro: ""
gcode:

[gcode_macro LIMPEZA_RESUME]
gcode:
    {% set svv = printer.save_variables.variables %}
    {% if svv.limpeza_ativa|default(false) %}
        SAVE_VARIABLE VARIABLE=limpeza_ativa VALUE=False
        M117 Limpeza conclu√≠da
        RESPOND MSG="Limpeza conclu√≠da - retomando impress√£o"
    {% endif %}

# Configura√ß√µes da impressora
[printer]                       # Printer settings
kinematics: corexy              # Kinematics: cartesian or corexy, etc.
max_velocity: 150
max_accel: 700
#max_velocity: 300               # Max printer speed   
#max_accel: 3000                 # Max acceleration (max 3000)
max_z_velocity: 15              # Max Z speed
max_z_accel: 100                # Max Z acceleration
square_corner_velocity: 5.0     # Square corner velocity, lower to reduce inertia
max_z_accel: 30              ; üëà acelera√ß√£o mais suave
max_z_velocity: 7        ; üëà opcional se quiser deixar mais expl√≠cito

[input_shaper]
shaper_type_x: mzv
shaper_freq_x: 44.6
shaper_type_y: mzv
shaper_freq_y: 36.2

[temperature_sensor mcu_temp]
sensor_type: temperature_mcu
min_temp: 0
max_temp: 80

[force_move]
enable_force_move: True

[save_variables]
filename: ~/printer_data/config/variables.cfg

#[resonance_tester]
#accel_chip: adxl345
#probe_points: 100,100,20

[gcode_macro PREPARE_IMPRESSAO]
gcode:
    {% set BED_TEMP = params.BED_TEMP|default(60)|float %}
    {% set EXTRUDER_TEMP = params.EXTRUDER_TEMP|default(200)|float %}
    
    M140 S{BED_TEMP}
    M104 S{EXTRUDER_TEMP}
    
    G28
    BED_MESH_CALIBRATE
    
    M190 S{BED_TEMP}
    M109 S{EXTRUDER_TEMP}
    
    G1 Z5 F3000
    G1 X5 Y5 F5000
    G92 E0
    G1 E10 F300
    G92 E0

[gcode_macro MODO_HOMING]
gcode:
  SET_TMC_FIELD STEPPER=stepper_x FIELD=TPWMTHRS VALUE=1048575
  SET_TMC_FIELD STEPPER=stepper_y FIELD=TPWMTHRS VALUE=1048575

[gcode_macro MODO_IMPRESSAO]
gcode:
  SET_TMC_FIELD STEPPER=stepper_x FIELD=TPWMTHRS VALUE=0
  SET_TMC_FIELD STEPPER=stepper_y FIELD=TPWMTHRS VALUE=0

[firmware_retraction]
retract_length: 3.0
retract_speed: 80
unretract_extra_length: 0.1
unretract_speed: 80

# Monitoramento de temperatura
[temperature_sensor raspberry_pi]
sensor_type: temperature_host
min_temp: 10
max_temp: 100

[temperature_sensor mcu_temp]
sensor_type: temperature_mcu
min_temp: 0
max_temp: 80

[homing_override]
axes: xyz
gcode:
  # Defini√ß√£o de home_all (mantida igual)
  {% set home_all = 'X' not in params and 'Y' not in params and 'Z' not in params %}
  {% set homed = printer.toolhead.homed_axes %}
  
  # Condicional inicial para pular se j√° homado e sem 'T'
  {% if home_all and 'T' not in params and 'x' in homed and 'y' in homed and 'z' in homed %}
    M117 Homing j√° executado.
  {% else %}
    M117 { "For√ßando homing (T detectado)" if 'T' in params else "Executando homing" }...
    
    MODO_HOMING  ; Ativa SpreadCycle
    
    SET_GCODE_OFFSET X=0 Y=0 Z=0
    
    {% if 'Z' not in homed %}
      SET_KINEMATIC_POSITION Z=0
      G1 Z5 F600
    {% endif %}
    
    # Para Y: For√ßa se 'T' passado ou n√£o homado
    {% if home_all or 'Y' in params %}
      {% if 'T' in params or 'y' not in homed %}
        M117 Homing Y...
        G4 P1000
        G28 Y
        G91
        G1 Y10 F3000
        G90
        M117 Y homado com sucesso
      {% else %}
        M117 Y j√° homado ‚Äî pulando
      {% endif %}
    {% endif %}
    
    # Para X: Similar
    {% if home_all or 'X' in params %}
      {% if 'T' in params or 'x' not in homed %}
        M117 Homing X...
        G4 P2000
        G28 X
        G91
        G1 X10 F3000
        G90
        M117 X homado com sucesso
      {% else %}
        M117 X j√° homado ‚Äî pulando
      {% endif %}
    {% endif %}
    
    # Para Z: Similar
    {% if home_all or 'Z' in params %}
      {% if 'T' in params or 'z' not in homed %}
        M117 Homing Z...
        MODO_IMPRESSAO
        G90
        G1 X115 Y144 F5000
        G28 Z
        G1 Z10 F1200
        M117 Z homado com sucesso
      {% else %}
        M117 Z j√° homado ‚Äî pulando
      {% endif %}
    {% endif %}
    
    MODO_IMPRESSAO
    M117 Modo StealthChop ativado
    
    APPLY_TOOL_OFFSET
    
    {% if home_all %}
      M117 Carregando mesh salvo...
      BED_MESH_PROFILE LOAD=default
      SET_GCODE_VARIABLE MACRO=G29 VARIABLE=mesh_done VALUE=True
      {action_respond_info("Mesh default carregado automaticamente ap√≥s G28")}
    {% endif %}
    
    M117 Homing conclu√≠do
  {% endif %}

#####################################################################
#             X/Y Stepper Motor Settings                            # 
#####################################################################
#   B Motor ---- Motor A 
#   |                  |
#   |------Extruder-----|
#   |                  |
#   |                  |
#          Front   
#####################################################################
#                          X Stepper Motor   (B Motor)              #
#####################################################################
## X Motor Port
[stepper_x]
step_pin: PB9                       # X step pin
dir_pin: PE0                        # X direction pin, add ! to reverse
enable_pin: !PE1                    # X enable pin, add ! or motor won't work
rotation_distance: 40
microsteps: 16
full_steps_per_rotation: 200
endstop_pin: tmc2209_stepper_x:virtual_endstop
position_min: -20
position_endstop: -20
position_max: 325 # DER A POSI√á√ÉO QUE O BLTOUCH ESTA TROMBABDO E DEFINIR COMO M√ÅXIMO
homing_speed: 30
homing_retract_dist: 0
#step_pulse_duration: 0.000004
#--------------------------------------------------------------------
##  Ensure correct driver type (2208 or 2209)
[tmc2209 stepper_x]                 # X driver config - TMC2209
uart_pin: ^PG13   
diag_pin: PC3   # Pino conectado ao DIAG do driver
interpolate: True
run_current: 0.7
hold_current: 0.5
sense_resistor: 0.110
stealthchop_threshold: 0    #999999
driver_SGTHRS: 90
#--------------------------------------------------------------------
#[tmc5160 stepper_x]                 # X driver config - TMC5160
#cs_pin: PG13                        # SPI CS pin
#spi_bus: spi2                      # SPI bus
#run_current: 1.0                    # Motor current
#interpolate: False                  # 256 microstep interpolation (True/False)
#sense_resistor: 0.075               # Do not change (0.033 for 5160 Pro)
#stealthchop_threshold: 500          # StealthChop threshold (set to 0 to disable)

#####################################################################
#                       Y Stepper Motor   (A Motor)                 #
#####################################################################
## Y Motor Port
[stepper_y]
step_pin: PB8                       # Y step pin
dir_pin: PG11                       # Y direction pin, add ! to reverse
enable_pin: !PG12                   # Y enable pin, add ! or motor won't work
rotation_distance: 40
microsteps: 16
full_steps_per_rotation: 200
endstop_pin: tmc2209_stepper_y:virtual_endstop
position_min: 0
position_endstop: 0
position_max: 280
homing_speed: 30
homing_retract_dist: 0
#step_pulse_duration: 0.000004
#--------------------------------------------------------------------
##  Ensure correct driver type (2208 or 2209)
[tmc2209 stepper_y]                 # Y driver config - TMC2209
uart_pin: ^PG10                      # UART pin
diag_pin: PF2   # Pino conectado ao DIAG do driver
interpolate: True
run_current: 0.7
hold_current: 0.5
sense_resistor: 0.110
stealthchop_threshold: 0    #999999
driver_SGTHRS: 90
#--------------------------------------------------------------------
#[tmc5160 stepper_y]                 # Y driver config - TMC5160
#cs_pin: PG10                        # SPI CS pin
#spi_bus: spi2                      # SPI bus
#run_current: 1.0                    # Motor current
#interpolate: False                  # 256 microstep interpolation (True/False)
#sense_resistor: 0.075               # Do not change (0.033 for 5160 Pro)
#stealthchop_threshold: 500          # StealthChop threshold (set to 0 to disable)

#####################################################################
#                     Z Stepper Motor Settings                      #
#####################################################################
#   |----- Z1 -----|
#   |              |
#   |              |
#   |              |
#   Z0----LCD----Z2

#####################################################################
#                           Z Stepper Motor                         #
#####################################################################
##    Z Stepper - Front Left z port
[stepper_z]
step_pin: PA8                  # Z step pin
dir_pin: !PD6                  # Z direction pin, add ! to reverse
enable_pin: !PD7               # Z enable pin, add ! or motor won't work
rotation_distance: 2.0
microsteps: 32
position_min: -8
position_max: 290
endstop_pin: probe:z_virtual_endstop
homing_speed: 10
second_homing_speed: 3
homing_retract_dist: 3
#--------------------------------------------------------------------
[tmc2209 stepper_z]
uart_pin: ^PD5                  # UART pin
interpolate: true
run_current: 0.7
hold_current: 0.5
sense_resistor: 0.110
stealthchop_threshold: 100


##    Z1 Stepper - Rear E0 port
[stepper_z1]
step_pin: PD12                  # Z1 step pin
dir_pin: !PD8                  # Z1 direction pin, add ! to reverse
enable_pin: !PD9               # Z1 enable pin, add ! or motor won't work
rotation_distance: 2.0
microsteps: 32
#--------------------------------------------------------------------
[tmc2209 stepper_z1]
uart_pin: ^PB12                  # UART pin
interpolate: true
run_current: 0.7
hold_current: 0.5
sense_resistor: 0.110
stealthchop_threshold: 100

[stepper_z2]
step_pin: PD13      # exemplo: PF0
dir_pin: !PD11       # exemplo: !PF1
enable_pin: !PG2      # exemplo: !PF2
rotation_distance: 4.0
microsteps: 32

[tmc2209 stepper_z2]
uart_pin: ^PD10      # exemplo: PF3
interpolate: true
run_current: 0.5
hold_current: 0.3
stealthchop_threshold: 0
sense_resistor: 0.110


# Configura√ß√£o para evitar conflitos de pinos (pode ser removido se n√£o houver outros conflitos)
#[duplicate_pin_override]
#pins: PC6,PA15,PD0,PA14
# Apenas a extrusora principal, com o motor e as configura√ß√µes de press√£o

# Configura√ß√£o da extrusora principal
# Defina o motor de extrus√£o como um stepper compartilhado 
# Extrusor PRINCIPAL (motor real)
[extruder_stepper belted_extruder]
extruder: extruder  # I believe assigning a extruder object is optional now.


step_pin: PC6
dir_pin: PA15
enable_pin: !PD0
microsteps: 16
rotation_distance: 34.20 #35 #34 # 32 # 32.7
full_steps_per_rotation: 200
pressure_advance: 0.5     ; <--- MUDE PARA 0.045 (comece aqui)
pressure_advance_smooth_time: 0.080
gear_ratio: 1:1
[tmc2209 extruder_stepper belted_extruder]
uart_pin: ^PA14
interpolate: true
run_current: 1.2
hold_current: 0.9
sense_resistor: 0.110
stealthchop_threshold: 999999
 

[extruder]
max_extrude_only_accel: 800  ; valor sugerido para Bowden
max_extrude_only_velocity: 120
max_extrude_cross_section: 50
instantaneous_corner_velocity: 2.5
max_extrude_only_distance: 1000
nozzle_diameter: 0.400
filament_diameter: 1.750
min_extrude_temp: 0 #150
heater_pin: PF7
sensor_type: EPCOS 100K B57560G104F
sensor_pin: PA0
max_power: 1.0
min_temp: 0
max_temp: 260

max_extrude_only_distance: 1000
#control: pid
#pid_kp: 22.2
#pid_ki: 1.08
#pid_kd: 114

# Extrusor 1 (Hotend 2) - Referencia o motor principal
[extruder1]
max_extrude_only_accel: 800  ; valor sugerido para Bowden
nozzle_diameter: 0.400
filament_diameter: 1.750
min_extrude_temp: 0 #150
heater_pin: PF6
sensor_type: EPCOS 100K B57560G104F
sensor_pin: PC1
max_power: 1.0
min_temp: 0
max_temp: 260
# Agora com um nome que faz mais sentido para o seu uso.
heater_pin: PF6
sensor_type: EPCOS 100K B57560G104F
sensor_pin: PC1
min_temp: 0
max_temp: 260

max_extrude_only_distance: 1000
#control: pid
#pid_kp: 26.213
#pid_ki: 1.304
#pid_kd: 131.721


[extruder2]
max_extrude_only_accel: 800  ; valor sugerido para Bowden
# Este √© o antigo [heater_generic hotend3]
heater_pin: PE6
sensor_type: EPCOS 100K B57560G104F
sensor_pin: PC0
max_extrude_only_velocity: 120
max_extrude_cross_section: 50
instantaneous_corner_velocity: 2.5
max_extrude_only_distance: 1000
nozzle_diameter: 0.400
filament_diameter: 1.750
min_extrude_temp: 0 #150
min_temp: 0
max_temp: 260

max_extrude_only_distance: 1000
#control: pid
#pid_kp: 26.213
#pid_ki: 1.304
#pid_kd: 131.721


[extruder3]
max_extrude_only_accel: 800  ; valor sugerido para Bowden
# Este √© o antigo [heater_generic hotend4]
heater_pin: PE5
sensor_type: EPCOS 100K B57560G104F
sensor_pin: PF10
min_temp: 0
max_temp: 260
max_extrude_only_velocity: 120
max_extrude_cross_section: 50
instantaneous_corner_velocity: 2.5
max_extrude_only_distance: 1000
nozzle_diameter: 0.400
filament_diameter: 1.750
min_extrude_temp: 0 #150

max_extrude_only_distance: 1000
#control: pid
#pid_kp: 26.213
#pid_ki: 1.304
#pid_kd: 131.721


[include mult_extruder.cfg]
## DRIVER6 motor position

#[tmc2209 stepper_t]
#uart_pin: ^PG6
#interpolate: true
#run_current: 1.0
#hold_current: 0.8
#sense_resistor: 0.110
#stealthchop_threshold: 0


# Heated Bed - Fly9 (configura√ß√£o completa)
[heater_bed]
heater_pin: PE2  # FlyD7 > PE2
sensor_type: EPCOS 100K B57560G104F
sensor_pin: PF3  # FlyD7 > PF3
max_power: 1.0
min_temp: 0
max_temp: 115
control: pid
pid_Kp: 54.027
pid_Ki: 0.770
pid_Kd: 948.182

# Fans - Fly9
#[fan]
#pin: PA0  # FlyD7 > PF8
[fan_generic Print_Cooling]
pin:PE13
max_power: 1.0

[controller_fan stepper_fan]
pin: PB11  # Substitua pelo pino real do seu cooler
kick_start_time: 0.5
off_below: 0.1
idle_timeout: 120  # tempo em segundos (2 minutos)
stepper: stepper_x, stepper_y, stepper_z  #, extruder
#valid steppers are: stepper_x, stepper_y, stepper_z, stepper_z1, extruder, extruder1, extruder2, extruder3

[heater_fan hotend_fan_0]
pin: PF8
heater: extruder
heater_temp: 50.0

[heater_fan hotend_fan_1]
pin: PF9
heater: extruder1
heater_temp: 50.0

[heater_fan hotend_fan_2]
pin: PA2
heater: extruder2
heater_temp: 50.0

[heater_fan hotend_fan_3]
pin: PA1
heater: extruder3
heater_temp: 50.0

#[fan_generic exhaust_fan]
#pin: PC8  # FlyD7 > PA1
#max_power: 1.0
#shutdown_speed: 0.0
#kick_start_time: 5.0

# Idle timeout
[idle_timeout]
timeout: 1800

# BLTouch - Fly9 (adaptado do printer.cfg)
[bltouch]
set_output_mode: 5V
sensor_pin: ^PC15 #^PF0  # FlyD7 > PC14
control_pin: PE11  # FlyD7 > PE11
x_offset: 44
y_offset: -48
#z_offset: 0.3                # Valor ser√° sobrescrito pelo SAVE_CONFIG
speed: 3.0
sample_retract_dist: 6.0
#stow_on_each_sample: True    # For√ßa retra√ß√£o ap√≥s cada medi√ß√£o
pin_up_touch_mode_reports_triggered: False  # Evita falsos triggers
probe_with_touch_mode: False  # Modo de toque para BLTouch
lift_speed: 7.0               # Velocidade do segundo probe (2 mm/s - mais lenta)
samples: 1
samples_tolerance: 0.08
samples_tolerance_retries: 2
 

# Safe Z homing
#[safe_z_home]
#speed: 50
#z_hop: 10
#z_hop_speed: 5

[z_tilt]
points:
  0, 50     ; lado esquerdo
  260, 50    ; lado direito
  110, 250    ; centro traseiro (X ~ centro, Y ~ traseira da malha)
z_positions:
  -70, 100     ; posi√ß√£o f√≠sica do motor Z1
  370, 100     ; posi√ß√£o f√≠sica do motor Z2
  150, 290    ; motor Z traseiro central (fora da mesa, posi√ß√£o real)
speed: 150
horizontal_move_z: 9
retries: 15
retry_tolerance: 0.05
#[z_tilt]
#points:
#  0, 120     ; lado esquerdo
#  260, 120    ; lado direito
#z_positions:
#  -70, 100     ; posi√ß√£o f√≠sica do motor Z1
#  370, 100     ; posi√ß√£o f√≠sica do motor Z2
#speed: 150
#horizontal_move_z: 9
#retries: 15                    ; Aumentado para 15 tentativas
#retry_tolerance: 0.05          ; Aumentado temporariamente para 0.05mm


# Bed mesh - configura√ß√£o completa do printer.cfg
[bed_mesh]
speed: 300                   # Calibration speed
#move_speed: 200                   # Calibration speed
horizontal_move_z: 4          # Z lift before moving to next point
mesh_min: 40,5
# Min calibration point x, y
#mesh_max: 250,270         # Max calibration point x, y  270, 270   
mesh_max: 275,200

probe_count: 4,4             # TEMPOR√ÅRIO: M√≠nimo de pontos para ajuste (era 5,5)
mesh_pps: 2,2                # Additional sample points
algorithm: bicubic           # Algorithm model
bicubic_tension: 0.2  
#z_hop: 10.0         # altura em mil√≠metros (padr√£o: 5.0)
fade_start: 1.0
fade_end: 10.0
fade_target: 0.0

# Display - FLY-Mini 12864 LCD

#[neopixel btt_mini12864]
#pin: EXP1_6
#chain_count: 3
#initial_RED: 0.1
##initial_GREEN: 0.5
#initial_BLUE: 0.0
#color_order: RGB

# Aliases para pinos EXP
[board_pins]
aliases:
    EXP1_1=PE9, EXP1_2=PE10, EXP1_3=PE11, EXP1_4=PE12, #EXP1_5=PE13, EXP1_6=PE14,
    EXP1_7=PE15, EXP1_8=PB10, EXP1_9=<GND>, EXP1_10=<5V>,
    EXP2_1=PB14, EXP2_2=PB13, EXP2_3=PF7, EXP2_4=PB12, EXP2_5=PE7, #EXP2_6=PB11,
    EXP2_7=PE8, EXP2_8=<RST>, EXP2_9=<GND>, EXP2_10=PC5

# Macros GCode


# Coment√°rios sobre configura√ß√µes removidas ou adaptadas:
# - Configura√ß√µes espec√≠ficas de CAN bus foram removidas
# - Pinos adaptados para placa Fly9 conforme refer√™ncia
# - Mantidas as macros e includes originais
# - Configura√ß√µes de display adaptadas para FLY-Mini 12864 LCD

#*# <---------------------- SAVE_CONFIG ---------------------->
#*# DO NOT EDIT THIS BLOCK OR BELOW. The contents are auto-generated.
#*#
#*# [bltouch]
#*# z_offset = 1.200
#*#
#*# [extruder]
#*# control = pid
#*# pid_kp = 27.397
#*# pid_ki = 2.854
#*# pid_kd = 65.754
#*#
#*# [heater_bed]
#*#
#*# [bed_mesh default]
#*# version = 1
#*# points =
#*# 	  -0.534375, -0.592188, -0.665000, -0.704063
#*# 	  -0.222188, -0.197813, -0.187813, -0.295625
#*# 	  -0.184688, -0.056250, 0.055625, 0.121250
#*# 	  -0.355625, -0.162813, -0.028750, -0.021250
#*# x_count = 4
#*# y_count = 4
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 40.0
#*# max_x = 274.99
#*# min_y = 5.0
#*# max_y = 200.0
#*#
#*# [extruder1]
#*# control = pid
#*# pid_kp = 21.702
#*# pid_ki = 1.808
#*# pid_kd = 65.106
#*#
#*# [extruder2]
#*# control = pid
#*# pid_kp = 25.037
#*# pid_ki = 2.196
#*# pid_kd = 71.355
#*#
#*# [extruder3]
#*# control = pid
#*# pid_kp = 21.994
#*# pid_ki = 1.788
#*# pid_kd = 67.632
#*#
#*# [bed_mesh Malha1]
#*# version = 1
#*# points =
#*# 	  -0.534375, -0.592188, -0.665000, -0.704063
#*# 	  -0.222188, -0.197813, -0.187813, -0.295625
#*# 	  -0.184688, -0.056250, 0.055625, 0.121250
#*# 	  -0.355625, -0.162813, -0.028750, -0.021250
#*# x_count = 4
#*# y_count = 4
#*# mesh_x_pps = 2
#*# mesh_y_pps = 2
#*# algo = bicubic
#*# tension = 0.2
#*# min_x = 40.0
#*# max_x = 274.99
#*# min_y = 5.0
#*# max_y = 200.0
